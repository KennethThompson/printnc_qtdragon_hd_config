# Generated by stepconf 1.1 at Mon Oct  9 16:42:05 2023
# If you make changes to this file, they will be
# overwritten when you run stepconf again

[EMC]
MACHINE = myprintnc
DEBUG = 0
VERSION = 1.1

[DISPLAY]
DISPLAY = qtvcp qtdragon_hd
PREFERENCE_FILE_PATH = WORKINGFOLDER/qtdragon.pref
EDITOR = gedit
POSITION_OFFSET = RELATIVE
POSITION_FEEDBACK = ACTUAL
ARCDIVISION = 64
GRIDS = 10mm 20mm 50mm 100mm 1in 2in 5in 10in
MAX_FEED_OVERRIDE = 1
MIN_SPINDLE_OVERRIDE = 0.5
MAX_SPINDLE_OVERRIDE = 1.0
MAX_SPINDLE_POWER = 1500

MIN_LINEAR_VELOCITY     = 0
MAX_LINEAR_VELOCITY     = 75
DEFAULT_LINEAR_VELOCITY = 50
DEFAULT_ANGULAR_VELOCITY = 10
MIN_ANGULAR_VELOCITY = 1
MAX_ANGULAR_VELOCITY = 360

CYCLE_TIME = 0.100
INTRO_GRAPHIC = linuxcnc.gif
INTRO_TIME = 1
PROGRAM_PREFIX = /home/ken/linuxcnc/programs
INCREMENTS = 5mm 1mm .5mm .1mm .05mm .01mm .005mm
PYVCP = custompanel.xml
DEFAULT_SPINDLE_0_SPEED = 500
SPINDLE_INCREMENT = 200
MIN_SPINDLE_0_SPEED = 7500
MAX_SPINDLE_0_SPEED = 24000
#MAX_SPINDLE_POWER = 1500
MIN_SPINDLE_0_OVERRIDE = 0.5
MAX_SPINDLE_0_OVERRIDE = 1.0

# NGCGUI subroutine path.
# The path must also be in [RS274NGC] SUBROUTINE_PATH
NGCGUI_SUBFILE_PATH = ~/linuxcnc/nc_files/examples/ngcgui_lib/
# pre selected programs tabs
# specify filenames only, files must be in the NGCGUI_SUBFILE_PATH
NGCGUI_SUBFILE = slot.ngc
NGCGUI_SUBFILE = qpocket.ngc

# qtdragon saves MDI cxommands to this file
MDI_HISTORY_FILE = mdi_history.dat
# qtdragon saves rnning logs to this file
EMBED_TAB_NAME = ATC Demo
EMBED_TAB_COMMAND = qtvcp /home/ken/linuxcnc/configs/myprintnc/qtvcp/rapidchange
EMBED_TAB_LOCATION = stackedWidget_mainTab
#LOG_FILE = /home/ken/linuxcnc/configs/myprintnc/log.log

LOG_FILE = qtdragon.log

[KINS]
JOINTS = 3
KINEMATICS = trivkins coordinates=XYZ

[FILTER]
# Controls what programs are shown inqtdragon file manager
PROGRAM_EXTENSION = .ngc,.nc,.tap G-Code File (*.ngc,*.nc,*.tap)
PROGRAM_EXTENSION = .png,.gif,.jpg Greyscale Depth Image
PROGRAM_EXTENSION = .py Python Script

# specifies what special 'filter' programs runs based on program ending
png = image-to-gcode
gif = image-to-gcode
jpg = image-to-gcode
py = python3

[TASK]
TASK = milltask
CYCLE_TIME = 0.010

[RS274NGC]
PARAMETER_FILE = linuxcnc.var
SUBROUTINE_PATH =\
~/linuxcnc/nc_files/examples/ngcgui_lib:\
~/linuxcnc/nc_files/examples/ngcgui_lib/utilitysubs:\
~/linuxcnc/nc_files/examples/remap-subroutines:\
~/linuxcnc/nc_files/examples/remap_lib:\
macros

# is the sub, with is called when a error during tool change happens.
ON_ABORT_COMMAND=O <on_abort> call

# The remap code for QtVCP's versaprobe's automatic tool probe of Z
#REMAP=M6  modalgroup=6 prolog=change_prolog ngc=qt_auto_probe_tool epilog=change_epilog
REMAP=M6  modalgroup=6 prolog=change_prolog ngc=tool_change epilog=change_epilog

[PYTHON]
# The path to start a search for user modules. ie python's sys.path.insert(0,PATH)
# The path start point for all remap searches ie. python's sys.path.append() 
PATH_APPEND = ~/linuxcnc/nc_files/examples/remap_lib/python-stdglue/python
# path to the tremap's 'oplevel file
TOPLEVEL = ~/linuxcnc/nc_files/examples/remap_lib/python-stdglue/python/toplevel.py
# set remap debug level
#LOG_LEVEL = 1000

[CHANGE_POSITION]
X = 100
Y = 0
Z = 0

[VERSA_TOOLSETTER]
X = 4.7
Y = 24.68
Z = -50
Z_MAX_CLEAR = -2
MAXPROBE =  110

[EMCMOT]
EMCMOT = motmod
COMM_TIMEOUT = 1.0
BASE_PERIOD = 100000
SERVO_PERIOD = 1000000

[HAL]
HALFILE = myprintnc.hal
HALFILE = custom.hal
POSTGUI_HALFILE = postgui_call_list.hal
HALFILE = vc-p1as.hal
HALUI = halui


# this command is run after qtdragon has made it's HAl pins
# any HAL conmmand can be used
# you can add multiple entries
# uncomment this one to print all HAL pins that start with qt
#POSTGUI_HALCMD = show pin qt
# added to simulate probing
#POSTGUI_HALCMD = loadusr qtvcp test_probe

[HALUI]
MDI_COMMAND=...
MDI_COMMAND=...
MDI_COMMAND=...
MDI_COMMAND=...
MDI_COMMAND=...
MDI_COMMAND=G10 L20 P1 X0
MDI_COMMAND=G10 L20 P1 Y0
MDI_COMMAND=G10 L20 P1 Z0
MDI_COMMAND=G0 X0 Y0 Z0
MDI_COMMAND=G10 L20 P1 A0
# Z axis touch plate subroutine
MDI_COMMAND = O <z_touch> CALL


[TRAJ]
COORDINATES =  X Y Z
LINEAR_UNITS = mm
ANGULAR_UNITS = degree
DEFAULT_LINEAR_VELOCITY = 100
MAX_LINEAR_VELOCITY = 100
DEFAULT_VELOCITY = 115.00
MAX_VELOCITY = 150.00

[EMCIO]
EMCIO = io
CYCLE_TIME = 0.100
TOOL_TABLE = tool.tbl

[PROBE]
USE_PROBE = versaprobe
#USE_PROBE = basicprobe

#*** AXIS_X *******************************
[AXIS_X]
MAX_VELOCITY = 237.5
MAX_ACCELERATION = 500.0
MIN_LIMIT = -0.01
MAX_LIMIT = 978.01

[JOINT_0]
TYPE = LINEAR
HOME = 10
MIN_LIMIT = -0.01
MAX_LIMIT = 978.01
MAX_VELOCITY = 200
MAX_ACCELERATION = 500.0
STEPGEN_MAXACCEL = 1250.0
SCALE = 80.0
FERROR = 1
MIN_FERROR = .25
HOME_OFFSET = 0.000000
HOME_SEARCH_VEL = -20.000000
HOME_LATCH_VEL = 6.250000
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 1
HOME_FINAL_VEL = 100
#******************************************

#*** AXIS_Y *******************************
[AXIS_Y]
MAX_VELOCITY = 150.0
MAX_ACCELERATION = 500.0
MIN_LIMIT = -0.01
MAX_LIMIT = 583.0

[JOINT_1]
TYPE = LINEAR
HOME = 583
MIN_LIMIT = -0.01
MAX_LIMIT = 583.0
MAX_VELOCITY = 150.0
MAX_ACCELERATION = 500.0
STEPGEN_MAXACCEL = 1250.0
SCALE = 80.0
FERROR = 1
MIN_FERROR = .25
HOME_OFFSET = 584.100000
HOME_SEARCH_VEL = 25.500000
HOME_LATCH_VEL = -6.250000
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 2
HOME_FINAL_VEL = 150
#******************************************

#*** AXIS_Z *******************************
[AXIS_Z]
MAX_VELOCITY = 50.0
MAX_ACCELERATION = 175.0
MIN_LIMIT = -500.0
MAX_LIMIT = 0.01

[JOINT_2]
TYPE = LINEAR
HOME = 0.0
MIN_LIMIT = -500.0
MAX_LIMIT = 0.01
MAX_VELOCITY = 50
MAX_ACCELERATION = 175.0
STEPGEN_MAXACCEL = 250.0
SCALE = 200
FERROR = 1
MIN_FERROR = .25
HOME_OFFSET = 1.000000
HOME_SEARCH_VEL = 10.000000
HOME_LATCH_VEL = -2.500000
HOME_IGNORE_LIMITS = YES
HOME_SEQUENCE = 0
HOME_FINAL_VEL = 50
#******************************************
